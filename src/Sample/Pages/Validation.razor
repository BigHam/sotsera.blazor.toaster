@page "/validation"
@using Sotsera.Blazor.Toaster
@inject IToaster Toaster

<h3>New user</h3>

<EditForm Model="@testModel" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ToasterValidationSummary FormName ="New user form" DisplayMode="@DisplayMode.Individual" />

    <div class="form-group row">
        <label for="name" class="col-sm-1 col-form-label">Name: </label>
        <div class="col-sm-4">
            <InputText id="name" @bind-Value="@testModel.Name" class="form-control" />
        </div>
    </div>

    <div class="form-group row">
        <label for="surname" class="col-sm-1 col-form-label">Surname: </label>
        <div class="col-sm-4">
            <InputText id="surname" @bind-Value="@testModel.Surname" class="form-control" />
        </div>
    </div>

    <div class="form-group row">
        <label for="country" class="col-sm-1 col-form-label">Country: </label>
        <div class="col-sm-4">
            <InputText id="country" @bind-Value="@testModel.Country" class="form-control" />
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </div>
</EditForm>

@code {
    private ValidationTestModel testModel = new ValidationTestModel();

    private void HandleValidSubmit()
    {
        Toaster.Success("The form is valid!");
    }
}
